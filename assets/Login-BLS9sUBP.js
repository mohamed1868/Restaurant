import{u as v,a as R,r,j as e}from"./index-CaYONtTr.js";import{J as n}from"./joi-browser.min-BC9uCqGI.js";import{m as y,f as N}from"./Test-CmUN19N_.js";import{i as _}from"./Api-D_v7PekP.js";const b="_dark_ux5hp_21",C="_formRegister_ux5hp_37",L="_containerRegister_ux5hp_69",E="_ContainerLogin_ux5hp_145",S={dark:b,formRegister:C,containerRegister:L,ContainerLogin:E},$="/Restaurant/assets/iv6yNy7oBqQ-DVkZRgLf.png",{containerRegister:k,formRegister:P,ContainerLogin:D}=S;function H(){const{getJwt:d}=v(),o=R();let[l,g]=r.useState(""),[u,h]=r.useState([]),[f,s]=r.useState(!1),[i,p]=r.useState({email:"",Password:""});function c(t){let a={...i};a[t.target.name]=t.target.value,p(a)}async function x(t){t.preventDefault();let a=j();if(s(!0),a.error)h(a.error.details),s(!1);else try{let m=await _.post("Login",i);o("/Home"),window.localStorage.userToken=m.data.jwt,d(),s(!1)}catch{s(!1),g("This data is reserved for others")}}function j(){return n.object({email:n.string().email({minDomainSegments:2,tlds:{allow:["com","net"]}}),Password:n.string().pattern(new RegExp("^[a-zA-Z0-9]{3,30}$"))}).validate(i,{abortEarly:!1})}function w(){o("/Register")}return e.jsxs(e.Fragment,{children:[l?e.jsx("div",{className:"alert alert-danger",role:"alert",children:l}):"",u.map(t=>e.jsx("div",{className:"alert alert-danger",role:"alert",children:t.message})),e.jsxs(y.div,{variants:N("left",.2),initial:"hidden",whileInView:"show",viewport:{once:!1,amount:.7},className:`${k} container row`,children:[e.jsx("div",{className:"col-lg-6 col-sm-12",children:e.jsx("img",{width:400,height:400,src:$})}),e.jsxs("div",{className:`${D} col-lg-6 col-sm-12`,children:[e.jsx("h1",{children:"Create an account"}),e.jsx("h4",{children:"Enter your details below"}),e.jsxs("form",{className:`${P}`,onSubmit:x,children:[e.jsx("div",{className:"mb-3",children:e.jsx("input",{placeholder:"Email",onChange:c,name:"email",type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp"})}),e.jsx("div",{className:"mb-3",children:e.jsx("input",{placeholder:"Password",onChange:c,name:"Password",type:"password",className:"form-control",id:"Password"})}),e.jsxs("button",{type:"submit",children:[f?e.jsx("li",{className:"fa fa-spinner fa-spin"}):"Login"," "]}),e.jsxs("h6",{children:["Create account? ",e.jsx("span",{onClick:w,children:"Register"})]})]})]})]})]})}export{H as default};
