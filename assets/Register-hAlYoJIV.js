import{a as j,r as n,j as e}from"./index-CaYONtTr.js";import{J as s}from"./joi-browser.min-BC9uCqGI.js";import{m as N,f as w}from"./Test-CmUN19N_.js";import{i as v}from"./Api-D_v7PekP.js";const y="_dark_nx855_21",b="_formRegister_nx855_37",R="_containerRegister_nx855_69",P={dark:y,formRegister:b,containerRegister:R},_="/Restaurant/assets/iv6yNy7oBqQ-DVkZRgLf.png",{containerRegister:E,formRegister:C}=P;function L(){let l=j(),[m,d]=n.useState(""),[c,g]=n.useState([]),[h,i]=n.useState(!1),[o,p]=n.useState({userName:"",dateOfBirth:"",email:"",Password:"",rePassword:""});function r(a){let t={...o};t[a.target.name]=a.target.value,p(t)}async function u(a){a.preventDefault();let t=f();if(i(!0),t.error)g(t.error.details),i(!1);else try{await v.post("Register",o),l("/Login"),i(!1)}catch{i(!1),d("This data is reserved for others")}}function f(){return s.object({userName:s.string().alphanum().min(3).max(20).required(),dateOfBirth:s.string().min(3).max(2e3).required(),email:s.string().email({minDomainSegments:2,tlds:{allow:["com","net"]}}),Password:s.string().pattern(new RegExp("^[a-zA-Z0-9]{3,30}$")),rePassword:s.string().pattern(new RegExp("^[a-zA-Z0-9]{3,30}$"))}).validate(o,{abortEarly:!1})}function x(){l("/Login")}return e.jsxs(e.Fragment,{children:[m?e.jsx("div",{className:"alert alert-danger",role:"alert",children:m}):"",c.map(a=>e.jsx("div",{className:"alert alert-danger",role:"alert",children:a.message})),e.jsxs(N.div,{variants:w("left",.2),initial:"hidden",whileInView:"show",viewport:{once:!1,amount:.7},className:`${E} container row`,children:[e.jsx("div",{className:"col-lg-6 col-sm-12",children:e.jsx("img",{width:400,height:400,src:_})}),e.jsxs("div",{className:"col-lg-6 col-sm-12",children:[e.jsx("h1",{children:"Create an account"}),e.jsx("h4",{children:"Enter your details below"}),e.jsxs("form",{className:`${C}`,onSubmit:u,children:[e.jsx("div",{className:"mb-3",children:e.jsx("input",{placeholder:"userName",onChange:r,name:"userName",type:"text",className:"form-control",id:"userName","aria-describedby":"emailHelp"})}),e.jsx("div",{className:"mb-3",children:e.jsx("input",{placeholder:"dateOfBirth",onChange:r,name:"dateOfBirth",type:"date",className:"form-control",id:"dateOfBirth","aria-describedby":"emailHelp"})}),e.jsx("div",{className:"mb-3",children:e.jsx("input",{placeholder:"Email",onChange:r,name:"email",type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp"})}),e.jsx("div",{className:"mb-3",children:e.jsx("input",{placeholder:"Password",onChange:r,name:"Password",type:"password",className:"form-control",id:"Password"})}),e.jsx("div",{className:"mb-3",children:e.jsx("input",{placeholder:"rePassword",onChange:r,name:"rePassword",type:"password",className:"form-control",id:"rePassword"})}),e.jsxs("button",{type:"submit",children:[h?e.jsx("li",{className:"fa fa-spinner fa-spin"}):"Register"," "]}),e.jsxs("h6",{children:["Already have account? ",e.jsx("span",{onClick:x,children:"Log in"})]})]})]})]})]})}export{L as default};
